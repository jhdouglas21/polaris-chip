<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="Description" content="Boilerplate for polaris chip">
  <base href="/">

  <style>
    :root,
    html,
    body {
      margin: 8px;
      padding: 8px;
      font-family: sans-serif;
      background-color: #ededed;
    }
    polaris-chip {
      margin: 16px;
    }
    my-card {
      --card-background: green;
      --card-border: 4px solid black;
      --card-padding: 16px;
      --card-font-family: 'Arial';
      --card-title-color: black;
      margin: 16px;
      width: 500px;
    }

    counter-app {
      width: 200px;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 8px;
      text-align: center;
      margin: 20px;
    }

    my-card {
      display: block;
      background-color: var(--card-background);
      border: var(--card-border);
      padding: var(--card-padding);
      font-family: var(--card-font-family);
      color: var(--card-title-color);
    }


    details summary {
      text-align: left;
      font-size: 20px;
      padding: 8px 0;
    }

    details[open] summary {
      font-weight: bold;
    }
    
    details div {
      border: 2px solid black;
      text-align: left;
      padding: 8px;
      height: 70px;
      overflow: auto;
    }
  </style>
  <title>polaris-chip / my-card</title>
</head>

<body>
  <alert-app style="background: orange;" time="12:00 AM" date="March 1, 2024" message="This is an alert about something important. You should probably do something about it that would be a good idea I think."></alert-app>
  <alert-app style="background: green;" time="9:25 PM" date="May 14, 2024" message="This is an alert about something important. You should probably do something about it that would be a good idea I think."></alert-app>
  <alert-app style="background: red;" time="2:00 AM" sticky date="November 7, 2024" message="This is an alert about something important. You should probably do something about it that would be a good idea I think."></alert-app>
  <alert-app style="background: pink;" time="5:15 PM" date="December 25, 2024" message="This is an alert about something important. You should probably do something about it that would be a good idea I think."></alert-app>

  <rpg-character>
  </rpg-character>

  <h1>polaris-chip</h1>
  <!-- this is going to do whatever the tag's defaults are -->
  <polaris-chip title="News of Record" link="https://psu.edu/"></polaris-chip>
  <polaris-chip title="Faculty and Staff"></polaris-chip>
  <polaris-chip title="Spors are the only thing that matter"></polaris-chip>
  <polaris-chip title="Grants and Donations"></polaris-chip>
  <!-- this is going to take the tag and change the title -->
  <!-- this is what is bringing in the definition for this tag -->
  <script type="module" src="./src/polaris-chip.js"></script>
  <script type="module" src="./src/my-card.js"></script>
  <script type="module" src="./src/counter-app.js"></script>
  <script type="module" src="./src/alert-app.js"></script>
  <script type="module" src="./src/haxcms-party-ui.js"></script>

  <h1>The Card Assignment</h1>

  <div class="control-wrapper">
    <button class="duplicate">Clone Card</button>
    <button id="changetitle">Change title</button>
    <button id="changeimage">Change image</button>
    <button id="changebg">Change bg</button>
    <button id="delete">Delete card</button>
  </div>

<div id="cardlist">
  <my-card header="He Eepy" title="Sleepy Dog" topText="My reaction" bottomText="to that information" imageSrc="https://media1.tenor.com/m/Ro3kqv2CPmYAAAAd/sleeping-sleep.gif" fancy par="This dog is taking a very well deserved nap. He likes to chill.">
    <p>This dog is taking a very well deserved nap. He likes to <strong>chill.</strong></p>
  </my-card>
  <my-card header="This is very tragic" style="--card-background: orange; --card-title-color: green;" title="The Crying Officer" imageSrc="https://media1.tenor.com/m/GhUChZCIDs0AAAAd/british-cop-screaming-screaming.gif" par="This officer is devastated. I don't know why but hopefully he chills out."></my-card>
  <my-card header="He kinda chill though" title="Hard Gif of Woody" style="--card-background: blue; --card-title-color: orange;" par="I don't think this is in the toy story movie. However, woody is chilling." imageSrc="https://media1.tenor.com/m/hbgP1XRYo1UAAAAC/bornskywalker-dap-me-up.gif"></my-card>
  <my-card header="Creature" title="This animal is up to no good" style="--card-background: pink; --card-title-color: aquamarine;" imageSrc ="https://media.tenor.com/UpuNwwksW6kAAAAM/bigfoot-jinx-jinx.gif" par="This is Jinx, a very mischevious cat. She seems to not like hair bands."></my-card>
  <my-card header="Anger" title="Spongebob and The Dime" style="--card-background: purple; --card-title-color: white;" imageSrc ="https://media.tenor.com/0wB7gjRtyxAAAAAM/spongebob-mr-krabs.gif" par="Spongebob is upset with Mr. Krabs. It seems that Mr. Krabs is accusing Squidward of stealing his first dime. I sure hope he finds it."></my-card>
</div>



<div id="counterList">
  <confetti-container><counter-app counter="16" min="10" max="25"></counter-app></confetti-container>
<confetti-container><counter-app counter="12" min="2" max="29"></counter-app></confetti-container>
</div>

  <script>
    document.querySelector('.duplicate').addEventListener('click', function(event) {
      const cards = document.querySelectorAll('my-card');
      if (cards.length > 0 && cards.length < 10) {
        const lastCard = cards[cards.length - 1];
        const newCard = lastCard.cloneNode(true);
        document.querySelector('#cardlist').appendChild(newCard);
      }
    });

    document.querySelector('#delete').addEventListener('click', function(e) {
      const cards = document.querySelectorAll('my-card');
      const lastCard = cards[cards.length - 1];
    
      if (cards.length !== 1) {
        lastCard.remove();
      }
    });

    document.querySelector('#changetitle').addEventListener('click', function(e) {
      // Selecting the first 'my-card' element
      const myCard = document.querySelector('my-card');

      // Accessing shadow DOM
      const shadowRoot = myCard.shadowRoot;

      // Selecting elements inside shadow DOM
      const cardTitle = shadowRoot.querySelector('.card-title');
      const cardHeader = shadowRoot.querySelector('.card-header');
      const cardDescription = shadowRoot.querySelector('.card-details');

      // Replacing elements
      cardTitle.textContent = "Oh Boy";
      cardHeader.textContent = "Stare Down";
      cardDescription.textContent = "This is very intenese. I wonder what the problem was.";
    });

    document.querySelector('#changeimage').addEventListener('click', function(e) {
      // Selecting the first 'my-card' element
      const myCard = document.querySelector('my-card');

      // Accessing shadow DOM
      const shadowRoot = myCard.shadowRoot;

      // Selecting element inside shadow DOM
      const cardImage = shadowRoot.querySelector('.card-image');

      // Replacing element
      cardImage.setAttribute('src', 'https://media.tenor.com/bxZa559RJvIAAAAM/staring-press.gif');
    });

    document.querySelector('#changebg').addEventListener('click', function (e) {
      // Selecting all 'my-card' elements
      const myCards = document.querySelectorAll('my-card');
      
      myCards.forEach(myCard => {
        console.log("this running?")
        // Accessing shadow DOM
        const shadowRoot = myCard.shadowRoot;
        // Selecting all '.card' elements inside shadow DOM
        const cards = shadowRoot.querySelectorAll('.card');

        cards.forEach(card => {
          card.classList.toggle('change-color');
        });
      });
    });
  </script>
</body>

</html>